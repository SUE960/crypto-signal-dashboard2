# 상관관계 패널 통합 가이드

## 📊 구현 완료 사항

### 1. 데이터 구조 (`lib/correlationData.ts`)
- **코인가격 관계**: 10개 항목
- **고래지갑 관계**: 6개 항목  
- **지금 뉴스**: 5개 항목

### 2. 컴포넌트 (`components/CorrelationPanel.tsx`)
- 3개 탭 (코인가격/고래지갑/지금뉴스)
- 색상 동그라미 (초록/노랑/회색)
- 진행 바 (상관계수 시각화)
- 호버 시 설명 표시

---

## 🎯 상관관계 기준

### 색상 구분
- 🟢 **초록색** (유의미): 
  - |r| > 0.05 AND p < 0.05
  - 통계적으로 유의미한 상관관계
  
- 🟡 **노란색** (약한 상관):
  - 0.02 < |r| < 0.05 OR p < 0.1
  - 약한 연관성 존재
  
- ⚪ **회색** (관계 없음):
  - |r| < 0.02 OR p > 0.1
  - 상관관계 없음

---

## 📋 상관관계 상세 리스트

### [코인가격 관계] 탭

| 항목 | 상관계수 | 색상 | 설명 |
|------|----------|------|------|
| 고래 거래 빈도 (ETH) | +13.3% | 🟢 | 가장 강한 상관관계 |
| 고래 거래 빈도 (BTC) | +9.0% | 🟢 | 고래 거래 많을수록 BTC↑ |
| 고래 거래 빈도 (ETH 변동성) | +7.5% | 🟢 | 변동성 증가 예측 |
| 텔레그램 메시지 수 (ETH) | +7.1% | 🟢 | 커뮤니티 활동↑ = ETH↑ |
| 텔레그램 메시지 수 (BTC) | +6.8% | 🟢 | 커뮤니티 활동↑ = BTC↑ |
| 트위터 인게이지먼트 (ETH) | +6.2% | 🟢 | SNS 활동과 가격 |
| 고래 거래 빈도 (BTC 변동성) | +4.2% | 🟡 | 약한 연관성 |
| 트위터 인게이지먼트 (BTC) | +2.5% | 🟡 | 매우 약한 상관 |
| 텔레그램 감정 (BTC 변화율) | -0.8% | ⚪ | 관계 없음 |
| 고래 거래량 (BTC 변화율) | +0.8% | ⚪ | 관계 없음 |

### [고래지갑 관계] 탭

| 항목 | 상관계수 | 색상 | 설명 |
|------|----------|------|------|
| 텔레그램 → 고래 (11시간 시차) | +10.7% | 🟢 | 선행 지표 11시간 |
| 트위터 → 고래 (5시간 시차) | +6.1% | 🟢 | 선행 지표 5시간 |
| 뉴스 수 → 고래 거래 | +4.5% | 🟡 | 뉴스 급증 시 고래 활동 |
| 트위터 감정 → 고래 거래 | +2.8% | 🟡 | 약한 연관 |
| 텔레그램 감정 → 고래 거래 | +1.5% | ⚪ | 관계 없음 |
| BTC 변화율 → 고래 거래 (12시간) | -1.7% | ⚪ | 예측 어려움 |

### [지금 뉴스] 탭

| 항목 | 상관계수 | 색상 | 설명 |
|------|----------|------|------|
| 뉴스 수 (급증 이벤트) | +72.0% | 🟢 | 시장 활동 12.7배 폭발 ⭐ |
| 강세 뉴스 비율 (가격 상승) | +58.0% | 🟢 | 70% 이상 시 상승 |
| 규제 뉴스 (변동성) | +54.0% | 🟢 | 변동성 급증 |
| 뉴스 감정 (BTC 변화율) | +31.0% | 🟡 | 약한 연관 |
| 뉴스 수 (일상적) | +12.0% | 🟡 | 일반 뉴스는 영향 미미 |

---

## 🚀 사용 방법

### 1. 패키지 설치 (이미 되어 있을 수 있음)
```bash
cd nextjs-dashboard
npm install
```

### 2. 파일 배치
```
nextjs-dashboard/
├── lib/
│   └── correlationData.ts         # 데이터 정의
├── components/
│   └── CorrelationPanel.tsx       # 메인 컴포넌트
└── app/
    └── page.tsx                   # 통합 (INTEGRATION_EXAMPLE.tsx 참고)
```

### 3. page.tsx에 추가
```typescript
import CorrelationPanel from '@/components/CorrelationPanel';

export default function Home() {
  return (
    <div className="p-8">
      <CorrelationPanel />
    </div>
  );
}
```

### 4. 실행
```bash
npm run dev
```

---

## 🎨 스타일링 특징

- **다크 테마**: 배경 그라데이션 (gray-900 → gray-800)
- **동적 색상**: 상관계수 부호에 따라 초록/빨강
- **진행 바**: 상관계수 절대값에 비례
- **호버 효과**: 설명 툴팁 표시
- **반응형**: 모바일/데스크톱 대응

---

## 📊 주요 인사이트 (패널에 표시됨)

### 코인가격 관계
1. **고래 거래가 가장 강력** (특히 ETH +13.3%)
2. 텔레그램 커뮤니티 활동도 유의미
3. 감정 지표는 가격 예측 어려움

### 고래지갑 관계
1. **텔레그램이 11시간 선행 지표**
2. **트위터가 5시간 선행 지표**
3. 가격 → 고래는 예측 불가

### 지금 뉴스
1. **뉴스 급증 = 시장 활동 폭발** (+72%)
2. 강세 뉴스 70% 이상 = 가격 상승
3. 규제 뉴스 = 변동성 급증

---

## 🔄 실시간 업데이트 (향후)

```typescript
// 5분마다 데이터 갱신
useEffect(() => {
  const interval = setInterval(async () => {
    const response = await fetch('/api/correlations');
    const data = await response.json();
    // 상태 업데이트
  }, 300000); // 5분

  return () => clearInterval(interval);
}, []);
```

---

**이제 대시보드에서 실시간으로 상관관계를 확인할 수 있습니다!** 🎉

